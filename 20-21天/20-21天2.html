<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="fade-obj" style="width:300px;height:300px;background:#000"></div>
<button id="fade-btn">淡出</button>
<script>
    var obj=document.getElementById("fade-obj");
    var btn=document.getElementById("fade-btn");
    // var body=document.getElementsByTagName("body")[0]; /*出错很久原来是getelementsByname 方法调用错了*/
    var i=1;   /*虽然在这里是字符串，但是在css中应该算是Num*/
    console.log(typeof obj.style.opacity);
      /*fadein fadeout这两个过程是有先后顺序的，我原本的同时setinterval的做法是错误的*/
      function sub() {
          obj.style.opacity=i;
          i=i-0.1;
          btn.disabled=true;
          if(i>0)
          {
              setTimeout(sub,500);
          }
          else if(i<=0)
          {
              btn.innerText="淡入";
              btn.disabled=false;
              btn.removeEventListener('click',sub);
              btn.addEventListener('click',sum);

          }
      }
      function sum() {
          obj.style.opacity=i;
          i+=0.1;
          btn.disabled=true;
          if(i<1)
          {
              setTimeout(sum,500);
          }
          else if(i=1)
          {
              btn.innerText="淡出";
              btn.disabled=false;
              btn.removeEventListener('click',sum);
              btn.addEventListener('click',sub);
          }
      }
      btn.addEventListener('click',sub);
</script>
</body>

</html>
